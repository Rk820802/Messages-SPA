{"ast":null,"code":"import _defineProperty from \"/Users/jagadish/Messages-SPA/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/jagadish/Messages-SPA/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/jagadish/Messages-SPA/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/jagadish/Messages-SPA/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jagadish/Messages-SPA/pages/index.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from \"react\";\nimport styles from \"../styles/Home.module.scss\";\nexport default function Home() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(),\n      messages = _useState[0],\n      setMessages = _useState[1];\n\n  var _useState2 = useState([{\n    id: '',\n    msgTitle: '',\n    msgBody: '',\n    msgDate: new Date(),\n    sign: ''\n  }]),\n      newMessage = _useState2[0],\n      setNewMessage = _useState2[1];\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(\"/api/localApi\");\n\n          case 2:\n            response = _context.sent;\n            _context.t0 = setMessages;\n            _context.next = 6;\n            return response.json();\n\n          case 6:\n            _context.t1 = _context.sent;\n            (0, _context.t0)(_context.t1);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), []);\n\n  var sortNames = function sortNames() {\n    var newTitles = _toConsumableArray(messages);\n\n    newTitles.sort(function (a, b) {\n      var fa = a.msgTitle.toLowerCase(),\n          fb = b.msgTitle.toLowerCase();\n\n      if (fa < fb) {\n        return -1;\n      }\n\n      if (fa > fb) {\n        return 1;\n      }\n\n      return 0;\n    });\n    setMessages(_toConsumableArray(newTitles));\n  };\n\n  var sortDates = function sortDates() {\n    var newDates = _toConsumableArray(messages);\n\n    newDates.sort(function (a, b) {\n      var fa = a.msgDate,\n          fb = b.msgDate;\n\n      if (fa < fb) {\n        return -1;\n      }\n\n      if (fa > fb) {\n        return 1;\n      }\n\n      return 0;\n    });\n    setMessages(_toConsumableArray(newDates));\n  };\n\n  var handleChange = function handleChange(e) {\n    e.persist();\n    setNewMessage(function (prevMsg) {\n      return _objectSpread(_objectSpread({}, prevMsg), {}, _defineProperty({}, e.target.name, e.target.value));\n    });\n  };\n\n  var save = function save(e) {\n    e.preventDefault();\n    setMessages([].concat(_toConsumableArray(messages), [newMessage]));\n    setNewMessage(\" \");\n    document.getElementById(\"id\").value = '';\n    document.getElementById(\"msgTitle\").value = '';\n    document.getElementById(\"msgBody\").value = '';\n    document.getElementById(\"msgDate\").value = new Date();\n    document.getElementById(\"sign\").value = '';\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      className: styles.table,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.button,\n              type: \"button\",\n              onClick: function onClick() {\n                return sortDates();\n              },\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.button,\n              type: \"button\",\n              onClick: function onClick() {\n                return sortNames();\n              },\n              children: \"Messsage Title and Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), messages ? messages.map(function (item) {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: item.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: new Date(item.msgDate).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: item.msgTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 21\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Body of the message:--  \", item.msgBody, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 59\n              }, _this), \"Time:--  \", new Date(item.msgDate).toLocaleTimeString(), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 75\n              }, _this), \"Signature:--  \", item.sign]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, _this);\n      }) : \"Loading...\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.div,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"post\",\n        onSubmit: save,\n        id: \"newMessage\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"New Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          \"for\": \"id\",\n          children: \"Message Id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.input,\n          type: \"text\",\n          id: \"id\",\n          name: \"id\",\n          value: newMessage.id,\n          placeholder: \"Enter the message id\",\n          required: true,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          \"for\": \"msgTitle\",\n          children: \"Message Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.input,\n          type: \"text\",\n          id: \"msgTitle\",\n          name: \"msgTitle\",\n          value: newMessage.msgTitle,\n          placeholder: \"Title of the message\",\n          required: true,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          \"for\": \"msgBody\",\n          children: \"Message Body\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.input,\n          type: \"text\",\n          id: \"msgBody\",\n          name: \"msgBody\",\n          value: newMessage.msgBody,\n          placeholder: \"Body of the message\",\n          required: true,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          \"for\": \"msgdate\",\n          children: \"Enter the Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.input,\n          type: \"date\",\n          id: \"msgDate\",\n          name: \"msgDate\",\n          value: newMessage.msgDate,\n          required: true,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          \"for\": \"sign\",\n          children: \"Enter the Signature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.input,\n          type: \"text\",\n          id: \"sign\",\n          name: \"sign\",\n          value: newMessage.sign,\n          placeholder: \"Enter the signature\",\n          required: true,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.input,\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"QYIAD5o3B4YRXIZO38xCcZvWB/s=\");\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/jagadish/Messages-SPA/pages/index.js"],"names":["useState","useEffect","styles","Home","messages","setMessages","id","msgTitle","msgBody","msgDate","Date","sign","newMessage","setNewMessage","fetch","response","json","sortNames","newTitles","sort","a","b","fa","toLowerCase","fb","sortDates","newDates","handleChange","e","persist","prevMsg","target","name","value","save","preventDefault","document","getElementById","table","button","map","item","toLocaleDateString","toLocaleTimeString","div","input"],"mappings":";;;;;;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAAA;;AAAA,kBACGH,QAAQ,EADX;AAAA,MACtBI,QADsB;AAAA,MACZC,WADY;;AAAA,mBAEKL,QAAQ,CAAC,CAAC;AAAEM,IAAAA,EAAE,EAAE,EAAN;AACEC,IAAAA,QAAQ,EAAE,EADZ;AAEEC,IAAAA,OAAO,EAAE,EAFX;AAGEC,IAAAA,OAAO,EAAE,IAAIC,IAAJ,EAHX;AAIEC,IAAAA,IAAI,EAAE;AAJR,GAAD,CAAD,CAFb;AAAA,MAExBC,UAFwB;AAAA,MAEZC,aAFY;;AAS7BZ,EAAAA,SAAS,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACea,KAAK,CAAC,eAAD,CADpB;;AAAA;AACFC,YAAAA,QADE;AAAA,0BAERV,WAFQ;AAAA;AAAA,mBAEUU,QAAQ,CAACC,IAAT,EAFV;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAGN,EAHM,CAAT;;AAKA,MAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,QAAIC,SAAS,sBAAOd,QAAP,CAAb;;AACAc,IAAAA,SAAS,CAACC,IAAV,CAAe,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACvB,UAAIC,EAAE,GAAGF,CAAC,CAACb,QAAF,CAAWgB,WAAX,EAAT;AAAA,UACEC,EAAE,GAAGH,CAAC,CAACd,QAAF,CAAWgB,WAAX,EADP;;AAGA,UAAID,EAAE,GAAGE,EAAT,EAAa;AACX,eAAO,CAAC,CAAR;AACD;;AACD,UAAIF,EAAE,GAAGE,EAAT,EAAa;AACX,eAAO,CAAP;AACD;;AACD,aAAO,CAAP;AACD,KAXD;AAYAnB,IAAAA,WAAW,oBAAKa,SAAL,EAAX;AACD,GAfD;;AAiBA,MAAMO,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtB,QAAIC,QAAQ,sBAAOtB,QAAP,CAAZ;;AACAsB,IAAAA,QAAQ,CAACP,IAAT,CAAc,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACtB,UAAIC,EAAE,GAAGF,CAAC,CAACX,OAAX;AAAA,UACEe,EAAE,GAAGH,CAAC,CAACZ,OADT;;AAGA,UAAIa,EAAE,GAAGE,EAAT,EAAa;AACX,eAAO,CAAC,CAAR;AACD;;AACD,UAAIF,EAAE,GAAGE,EAAT,EAAa;AACX,eAAO,CAAP;AACD;;AACD,aAAO,CAAP;AACD,KAXD;AAYAnB,IAAAA,WAAW,oBAAKqB,QAAL,EAAX;AACD,GAfD;;AAiBA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,CAAC,EAAI;AACxBA,IAAAA,CAAC,CAACC,OAAF;AACAhB,IAAAA,aAAa,CAAC,UAAAiB,OAAO;AAAA,6CAAUA,OAAV,2BAAoBF,CAAC,CAACG,MAAF,CAASC,IAA7B,EAAoCJ,CAAC,CAACG,MAAF,CAASE,KAA7C;AAAA,KAAR,CAAb;AACD,GAHD;;AAKA,MAAIC,IAAI,GAAG,SAAPA,IAAO,CAACN,CAAD,EAAO;AAChBA,IAAAA,CAAC,CAACO,cAAF;AACA9B,IAAAA,WAAW,8BAAKD,QAAL,IAAeQ,UAAf,GAAX;AACAC,IAAAA,aAAa,CAAC,GAAD,CAAb;AACAuB,IAAAA,QAAQ,CAACC,cAAT,CAAwB,IAAxB,EAA8BJ,KAA9B,GAAsC,EAAtC;AACAG,IAAAA,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCJ,KAApC,GAA4C,EAA5C;AACAG,IAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCJ,KAAnC,GAA2C,EAA3C;AACAG,IAAAA,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCJ,KAAnC,GAA2C,IAAIvB,IAAJ,EAA3C;AACA0B,IAAAA,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCJ,KAAhC,GAAwC,EAAxC;AACD,GATD;;AAWA,sBACE;AAAA,4BACE;AAAO,MAAA,SAAS,EAAE/B,MAAM,CAACoC,KAAzB;AAAA,8BACE;AAAA,+BACE;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,mCACE;AACE,cAAA,SAAS,EAAEpC,MAAM,CAACqC,MADpB;AAEE,cAAA,IAAI,EAAC,QAFP;AAGE,cAAA,OAAO,EAAE;AAAA,uBAAMd,SAAS,EAAf;AAAA,eAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAFF,eAUE;AAAA,mCACE;AACE,cAAA,SAAS,EAAEvB,MAAM,CAACqC,MADpB;AAEE,cAAA,IAAI,EAAC,QAFP;AAGE,cAAA,OAAO,EAAE;AAAA,uBAAMtB,SAAS,EAAf;AAAA,eAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,EAuBGb,QAAQ,GACPA,QAAQ,CAACoC,GAAT,CAAa,UAACC,IAAD,EAAU;AACrB,4BACE;AAAA,kCACE;AAAA,sBAAKA,IAAI,CAACnC;AAAV;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AAAA,sBACG,IAAII,IAAJ,CAAS+B,IAAI,CAAChC,OAAd,EAAuBiC,kBAAvB;AADH;AAAA;AAAA;AAAA;AAAA,mBAFF,eAKE;AAAA,oCAAI;AAAA,wBAAKD,IAAI,CAAClC;AAAV;AAAA;AAAA;AAAA;AAAA,qBAAJ,eACE;AAAA,qDAC2BkC,IAAI,CAACjC,OADhC,eACwC;AAAA;AAAA;AAAA;AAAA,uBADxC,eAEY,IAAIE,IAAJ,CAAS+B,IAAI,CAAChC,OAAd,EAAuBkC,kBAAvB,EAFZ,eAEwD;AAAA;AAAA;AAAA;AAAA,uBAFxD,oBAGiBF,IAAI,CAAC9B,IAHtB;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF;AAAA;AAAA;AAAA;AAAA;AAAA,mBALF;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF;AAeD,OAhBD,CADO,GAkBL,YAzCN;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eA4CE;AAAK,MAAA,SAAS,EAAET,MAAM,CAAC0C,GAAvB;AAAA,6BAEE;AAAM,QAAA,MAAM,EAAC,MAAb;AAAoB,QAAA,QAAQ,EAAEV,IAA9B;AAAoC,QAAA,EAAE,EAAC,YAAvC;AAAA,gCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEE;AAAO,iBAAI,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAO,UAAA,SAAS,EAAEhC,MAAM,CAAC2C,KAAzB;AAAgC,UAAA,IAAI,EAAC,MAArC;AAA4C,UAAA,EAAE,EAAC,IAA/C;AAAoD,UAAA,IAAI,EAAC,IAAzD;AAA8D,UAAA,KAAK,EAAEjC,UAAU,CAACN,EAAhF;AAAoF,UAAA,WAAW,EAAC,sBAAhG;AAAuH,UAAA,QAAQ,MAA/H;AAAgI,UAAA,QAAQ,EAAEqB;AAA1I;AAAA;AAAA;AAAA;AAAA,gBAHF,eAKE;AAAO,iBAAI,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAME;AAAO,UAAA,SAAS,EAAEzB,MAAM,CAAC2C,KAAzB;AAAgC,UAAA,IAAI,EAAC,MAArC;AAA4C,UAAA,EAAE,EAAC,UAA/C;AAA0D,UAAA,IAAI,EAAC,UAA/D;AAA0E,UAAA,KAAK,EAAEjC,UAAU,CAACL,QAA5F;AAAsG,UAAA,WAAW,EAAC,sBAAlH;AAAyI,UAAA,QAAQ,MAAjJ;AAAkJ,UAAA,QAAQ,EAAEoB;AAA5J;AAAA;AAAA;AAAA;AAAA,gBANF,eAQE;AAAO,iBAAI,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,eASE;AAAO,UAAA,SAAS,EAAEzB,MAAM,CAAC2C,KAAzB;AAAgC,UAAA,IAAI,EAAC,MAArC;AAA4C,UAAA,EAAE,EAAC,SAA/C;AAAyD,UAAA,IAAI,EAAC,SAA9D;AAAwE,UAAA,KAAK,EAAEjC,UAAU,CAACJ,OAA1F;AAAmG,UAAA,WAAW,EAAC,qBAA/G;AAAqI,UAAA,QAAQ,MAA7I;AAA8I,UAAA,QAAQ,EAAEmB;AAAxJ;AAAA;AAAA;AAAA;AAAA,gBATF,eAWE;AAAO,iBAAI,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF,eAYE;AAAO,UAAA,SAAS,EAAEzB,MAAM,CAAC2C,KAAzB;AAAgC,UAAA,IAAI,EAAC,MAArC;AAA4C,UAAA,EAAE,EAAC,SAA/C;AAAyD,UAAA,IAAI,EAAC,SAA9D;AAAwE,UAAA,KAAK,EAAEjC,UAAU,CAACH,OAA1F;AAAmG,UAAA,QAAQ,MAA3G;AAA4G,UAAA,QAAQ,EAAEkB;AAAtH;AAAA;AAAA;AAAA;AAAA,gBAZF,eAcE;AAAO,iBAAI,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdF,eAeE;AAAO,UAAA,SAAS,EAAEzB,MAAM,CAAC2C,KAAzB;AAAgC,UAAA,IAAI,EAAC,MAArC;AAA4C,UAAA,EAAE,EAAC,MAA/C;AAAsD,UAAA,IAAI,EAAC,MAA3D;AAAkE,UAAA,KAAK,EAAEjC,UAAU,CAACD,IAApF;AAA2F,UAAA,WAAW,EAAC,qBAAvG;AAA6H,UAAA,QAAQ,MAArI;AAAsI,UAAA,QAAQ,EAAEgB;AAAhJ;AAAA;AAAA;AAAA;AAAA,gBAfF,eAiBE;AAAO,UAAA,SAAS,EAAEzB,MAAM,CAAC2C,KAAzB;AAAgC,UAAA,IAAI,EAAC,QAArC;AAA8C,UAAA,KAAK,EAAC;AAApD;AAAA;AAAA;AAAA;AAAA,gBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,YA5CF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAsED;;GAtIuB1C,I;;KAAAA,I","sourcesContent":["import { useState, useEffect } from \"react\";\nimport styles from \"../styles/Home.module.scss\";\nexport default function Home() {\n  const [messages, setMessages] = useState();\n  let [newMessage, setNewMessage] = useState([{ id: '',\n                                                msgTitle: '',\n                                                msgBody: '',\n                                                msgDate: new Date(),\n                                                sign: ''\n                                              }]);\n\n  useEffect(async () => {\n    const response = await fetch(\"/api/localApi\");\n    setMessages(await response.json());\n  }, []);\n\n  const sortNames = () => {\n    let newTitles = [...messages];\n    newTitles.sort((a, b) => {\n      let fa = a.msgTitle.toLowerCase(),\n        fb = b.msgTitle.toLowerCase();\n\n      if (fa < fb) {\n        return -1;\n      }\n      if (fa > fb) {\n        return 1;\n      }\n      return 0;\n    });\n    setMessages([...newTitles]);\n  }\n\n  const sortDates = () => {\n    let newDates = [...messages];\n    newDates.sort((a, b) => {\n      let fa = a.msgDate,\n        fb = b.msgDate;\n\n      if (fa < fb) {\n        return -1;\n      }\n      if (fa > fb) {\n        return 1;\n      }\n      return 0;\n    });\n    setMessages([...newDates]);\n  }\n\n  const handleChange = e => {\n    e.persist();\n    setNewMessage(prevMsg => ({ ...prevMsg, [e.target.name]: e.target.value }));\n  }\n\n  let save = (e) => {\n    e.preventDefault();\n    setMessages([...messages, newMessage]);\n    setNewMessage(\" \");\n    document.getElementById(\"id\").value = '';\n    document.getElementById(\"msgTitle\").value = ''\n    document.getElementById(\"msgBody\").value = '';\n    document.getElementById(\"msgDate\").value = new Date();\n    document.getElementById(\"sign\").value = '';\n  }\n\n  return (\n    <div>\n      <table className={styles.table}>\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>\n              <button\n                className={styles.button}\n                type=\"button\"\n                onClick={() => sortDates()}\n              >\n                Date\n            </button></th>\n            <th>\n              <button\n                className={styles.button}\n                type=\"button\"\n                onClick={() => sortNames()}\n              >\n                Messsage Title and Details\n            </button>\n            </th>\n          </tr>\n        </thead>\n        {messages ?\n          messages.map((item) => {\n            return (\n              <tr>\n                <td>{item.id}</td>\n                <td>\n                  {new Date(item.msgDate).toLocaleDateString()}\n                </td>\n                <td><h3>{item.msgTitle}</h3>\n                  <p>\n                    Body of the message:--  {item.msgBody}<br />\n                    Time:--  {new Date(item.msgDate).toLocaleTimeString()}<br />\n                    Signature:--  {item.sign}\n                  </p>\n                </td>\n              </tr>\n            );\n          })\n          : \"Loading...\"}\n      </table>\n      <div className={styles.div}>\n        \n        <form method=\"post\" onSubmit={save} id=\"newMessage\">\n        <h3>New Message</h3>\n          <label for=\"id\">Message Id</label>\n          <input className={styles.input} type=\"text\" id=\"id\" name=\"id\" value={newMessage.id} placeholder=\"Enter the message id\" required onChange={handleChange} />\n\n          <label for=\"msgTitle\">Message Title</label>\n          <input className={styles.input} type=\"text\" id=\"msgTitle\" name=\"msgTitle\" value={newMessage.msgTitle} placeholder=\"Title of the message\" required onChange={handleChange} />\n\n          <label for=\"msgBody\">Message Body</label>\n          <input className={styles.input} type=\"text\" id=\"msgBody\" name=\"msgBody\" value={newMessage.msgBody} placeholder=\"Body of the message\" required onChange={handleChange} />\n\n          <label for=\"msgdate\">Enter the Date</label>\n          <input className={styles.input} type=\"date\" id=\"msgDate\" name=\"msgDate\" value={newMessage.msgDate} required onChange={handleChange} ></input>\n\n          <label for=\"sign\">Enter the Signature</label>\n          <input className={styles.input} type=\"text\" id=\"sign\" name=\"sign\" value={newMessage.sign}  placeholder=\"Enter the signature\" required onChange={handleChange} />\n\n          <input className={styles.input} type=\"submit\" value=\"Submit\" />\n\n        </form>\n      </div>\n    </div>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}